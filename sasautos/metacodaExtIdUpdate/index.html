<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Metacoda Pty Ltd">
  <link rel="canonical" href="https://metacoda.github.io/idsync-utils/sasautos/metacodaExtIdUpdate/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>%metacodaExtIdUpdate - Metacoda Identity Sync Utilities</title>
  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "%metacodaExtIdUpdate";
    var mkdocs_page_input_path = "sasautos/metacodaExtIdUpdate.md";
    var mkdocs_page_url = "/idsync-utils/sasautos/metacodaExtIdUpdate/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Metacoda Identity Sync Utilities</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Intro</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Topics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../topics/idsp/">Identity Sync Profiles & Process</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../topics/ad-domains/">Active Directory Domains</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../topics/canonical-tables/">Using Canonical Tables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../topics/exclusions/">Exclusions & Exceptions</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Reference</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">SAS Macros</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaAuthDomainExtract/">%metacodaAuthDomainExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaExtIdExtract/">%metacodaExtIdExtract</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">%metacodaExtIdUpdate</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#warning">WARNING</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#purpose">Purpose</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaIdentityGroupExtract/">%metacodaIdentityGroupExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaIdentityLoginExtract/">%metacodaIdentityLoginExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaIdGroupMembersExtract/">%metacodaIdGroupMembersExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaPersonEmailExtract/">%metacodaPersonEmailExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaPersonExtract/">%metacodaPersonExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaPersonIntLoginExtract/">%metacodaPersonIntLoginExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaPersonLocationExtract/">%metacodaPersonLocationExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaPersonPhoneExtract/">%metacodaPersonPhoneExtract</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../metacodaXMLEncode/">%metacodaXMLEncode</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Samples</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../samples/idsp-samples/">Sample Identity Sync Profiles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../samples/sas-samples/">Sample SAS Programs</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../resources/">Resources</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/license/">License</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/trademarks/">Trademarks</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Metacoda Identity Sync Utilities</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>SAS Macros &raquo;</li>
        
      
        
          <li>Reference &raquo;</li>
        
      
    
    <li>%metacodaExtIdUpdate</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/metacoda/idsync-utils/edit/master/docs/sasautos/metacodaExtIdUpdate.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="sas-macro-metacodaextidupdate">SAS Macro: %metacodaExtIdUpdate</h1>
<h2 id="warning">WARNING</h2>
<p>WARNING: THIS MACRO UPDATES SAS METADATA.</p>
<p>When provided with correct parameters, and running in an environment with valid SAS metadata
options, this macro will update SAS metadata ExternalIdentity objects which may break any existing
identity sync process you current have operating, and has the potential to DELETE users and group
at the next sync operation unless you have delete-protection in your sync process.</p>
<p>Do not modify and run this program unless it is your intention to update ExternalIdentity metadata,
you are fully aware of the potential consequences, and are confident you have adequate SAS metadata
backups so you can revert the process if required.</p>
<p>If you are unsure please contact Metacoda Support <a href="mailto:support@metacoda.com">support@metacoda.com</a>
to discuss further.</p>
<h2 id="purpose">Purpose</h2>
<p>This macro is used to update basic attribute values for existing ExternalIdentity objects from SAS
metadata.</p>
<p>ExternalIdentity objects are used to maintain unique identifiers in metadata that link SAS
identities to external identities (such as Microsoft Active Directory users &amp; groups).</p>
<p>The metacodaExtIdUpdate macro can be used as part of a process to perform a bulk update of keyId
values if you want to migrate the type of unique identifier you are using for identity sync.
For example you might want to switch from using sAMAccountName to objectGUID for users, and switch
from using distinguishedName to objectGUID. By switching to objectGUID we can take advantage of a
better choice for an unchanging unique id for objects in Active Directory.</p>
<p>The macro takes a table of ExternalIdentity metadata object ids and new identifier (keyId) values
and applies those new values to SAS metadata.</p>
<h2 id="parameters">Parameters</h2>
<pre><code>%macro metacodaExtIdUpdate(
   table=,
   extIdObjIdColName=,
   extIdNewIdentifierColName=,
   xmlDir=,
   debug=0
   );
</code></pre>
<p>This macro accepts several mandatory and optional named parameters to identify a SAS table and
columns as input and used SAS PROC METADATA to update metadata according to the table contents. </p>
<p><strong><em>table</em></strong>: <em>(MANDATORY)</em></p>
<p>The (1 or 2 level) name of an input table containing the ExternalIdentity Identifier values to
update.</p>
<p><strong><em>extIdObjIdColName</em></strong>: <em>(MANDATORY)</em></p>
<p>The name of the column in the supplied table that contains the metadata object id values for the
ExternalIdentity objects to be updated.</p>
<p><strong><em>extIdNewIdentifierColName</em></strong>: <em>(MANDATORY)</em></p>
<p>The name of the column in the supplied table that contains the new ExternalIdentity Identifier
values.</p>
<p><strong><em>xmlDir</em></strong>: <em>(OPTIONAL)</em></p>
<p>Path to a directory where PROC METADATA request and response XML files will be written. If
unspecified the work directory path will be used by default.</p>
<p><strong><em>debug</em></strong>: <em>(OPTIONAL)</em></p>
<p>A flag (0/1) indicating whether to generate additional debug info for troubleshooting purposes.
The default is zero for no debug.</p>
<h2 id="examples">Examples</h2>
<p>Update ExternalIdentity Identifier (keyId) values for AD-synced users:</p>
<pre><code>%metacodaExtIdUpdate(
    table=work.userExtIdUpdate,
    extIdObjIdColName=extIdObjId,
    extIdNewIdentifierColName=extIdNewIdentifier
    )
</code></pre>
<p>Update ExternalIdentity Identifier (keyId) values for AD-synced groups:</p>
<pre><code>%metacodaExtIdUpdate(
    table=groupExtIdUpdate,
    extIdObjIdColName=extIdObjId,
    extIdNewIdentifierColName=extIdNewIdentifier
    )
</code></pre>
<p>See the sample <a href="https://github.com/Metacoda/idsync-utils/blob/master/samples/metacodaExtIdUpdateSample.sas">metacodaExtIdUpdateSample.sas</a> for a more
in-depth example of how a keyId migration can be done with the help of the Metacoda Identity Sync
Plug-in.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../metacodaIdentityGroupExtract/" class="btn btn-neutral float-right" title="%metacodaIdentityGroupExtract">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../metacodaExtIdExtract/" class="btn btn-neutral" title="%metacodaExtIdExtract"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2017-2022 <a href="https://www.metacoda.com/">Metacoda Pty Ltd</a>.</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/metacoda/idsync-utils/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../metacodaExtIdExtract/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../metacodaIdentityGroupExtract/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
